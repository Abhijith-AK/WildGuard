{% include "admin/admin_header.html" %}

<div class="container mt-5">
    <h1 class="h1 text-center mb-5">Forest Officers</h1>
    {% if q4 %}
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <form action="" class="form needs-validation" method="post" novalidate>
                        {% csrf_token %}
                        <div class="row mb-3">
                            <label for="fname" class="col-sm-3 col-form-label">First name:</label>
                            <div class="col-sm-9">
                                <input type="text" name="fname" id="fname" class="form-control" value="{{ q4.fname }}" required>
                                <div class="invalid-feedback">Please enter first name.</div>
                            </div>
                        </div>
                        <!-- Add similar rows for other form elements -->
                        <div class="row mb-3">
                            <label for="lname" class="col-sm-3 col-form-label">Last name:</label>
                            <div class="col-sm-9">
                                <input type="text" name="lname" id="lname" class="form-control" value="{{ q4.lname }}" required>
                                <div class="invalid-feedback">Please enter last name.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="place" class="col-sm-3 col-form-label">Place:</label>
                            <div class="col-sm-9">
                                <input type="text" name="place" id="place" class="form-control" value="{{ q4.place }}" required>
                                <div class="invalid-feedback">Please enter place.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="phno" class="col-sm-3 col-form-label">Phone no:</label>
                            <div class="col-sm-9">
                                <input type="text" name="phno" id="phno" class="form-control" value="{{ q4.phone }}" maxlength="10" required>
                                <div class="invalid-feedback">Please enter valid phone number.</div>
                            </div>
                        </div>
                        
                       
                        <div class="row mb-3">
                            <label for="designation" class="col-sm-3 col-form-label">Designation:</label>
                            <div class="col-sm-9">
                                <select name="designation" id="designation" class="form-control" required>
                                    <option value="SI" {% if q4.designation == "SI" %} selected {% endif %}>SI</option>
                                    <option value="PC" {% if q4.designation == "PC" %} selected {% endif %}>PC</option>
                                    <option value="3" {% if q4.designation == "3" %} selected {% endif %}>3</option>
                                    <option value="4" {% if q4.designation == "4" %} selected {% endif %}>4</option>
                                </select>
                                <div class="invalid-feedback">Please select a designation.</div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary" name="update">Update</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% else %}
    <!-- Add Officer Form -->
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <form action="" method="post" class="needs-validation" novalidate>
                        {% csrf_token %}
                        <div class="row mb-3">
                            <label for="fname" class="col-sm-3 col-form-label">First name:</label>
                            <div class="col-sm-9">
                                <input type="text" name="fname" id="fname" class="form-control" required>
                                <div class="invalid-feedback">Please enter first name.</div>
                            </div>
                        </div>
                        <!-- Add similar rows for other form elements -->
                        <div class="row mb-3">
                            <label for="lname" class="col-sm-3 col-form-label">Last name:</label>
                            <div class="col-sm-9">
                                <input type="text" name="lname" id="lname" class="form-control" required>
                                <div class="invalid-feedback">Please enter last name.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="place" class="col-sm-3 col-form-label">Place:</label>
                            <div class="col-sm-9">
                                <input type="text" name="place" id="place" class="form-control" required>
                                <div class="invalid-feedback">Please enter place.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="phno" class="col-sm-3 col-form-label">Phone no:</label>
                            <div class="col-sm-9">
                                <input type="text" name="phno" id="phno" class="form-control" maxlength="10" required>
                                <div class="invalid-feedback">Please enter valid phone number.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="Email" class="col-sm-3 col-form-label">Email:</label>
                            <div class="col-sm-9">
                                <input type="email" name="email" id="email" class="form-control" required>
                                <div class="invalid-feedback">Please enter a email.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="password" class="col-sm-3 col-form-label">Password:</label>
                            <div class="col-sm-9">
                                <input type="password" name="password" id="password" class="form-control" required>
                                <div class="invalid-feedback">Please enter a password.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <label for="designation" class="col-sm-3 col-form-label">Designation:</label>
                            <div class="col-sm-9">
                                <select name="designation" id="designation" class="form-control" required>
                                    <option value="">Select Designation</option>
                                    <option value="SI">SI</option>
                                    <option value="PC">PC</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                </select>
                                <div class="invalid-feedback">Please select a designation.</div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary" name="submit">Add</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- End Add Officer Form -->
{% endif %}

</div>


<div class="container mt-5">
    <div class="row">
        <div class="col-md-12">
            <table class="table table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Place</th>
                        <th>Phone</th>
                        <th>Designation</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in q3 %}
                    <tr>
                        <td>{{i.fname}}</td>
                        <td>{{i.lname}}</td>
                        <td>{{i.place}}</td>
                        <td>{{i.phone}}</td>
                        <td>{{i.designation}}</td>
                        <td>
                            <a href="update_officer/{{i.id}}" class="btn btn-success">Update</a>
                            <a href="delete_officer/{{i.id}}" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    $(function() {
        $("input[name='fname']").on('input', function(e) {
            $(this).val($(this).val().replace(/[^A-Za-z ]/g, ''));
        });
        $("input[name='lname']").on('input', function(e) {
            $(this).val($(this).val().replace(/[^A-Za-z ]/g, ''));
        });
        $("input[name='place']").on('input', function(e) {
            $(this).val($(this).val().replace(/[^A-Za-z0-9()/. ]/g, ''));
        });
        $("input[name='phno']").on('input', function(e) {
            $(this).val($(this).val().replace(/[^0-9]/g, ''));
        });
    });
</script>

{% include "footer.html" %}
